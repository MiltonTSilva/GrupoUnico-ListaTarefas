<div style="text-align:center">
  <button class="btn btn-primary" (click)="toggleNovaTarefa()">
    {{ mostrarNovaTarefa ? 'Cancelar' : 'Adicionar Tarefa' }}
  </button>
  
  <div *ngIf="mostrarNovaTarefa">
    <app-nova-tarefa (tarefaAdicionada)="atualizarListaTarefas()"></app-nova-tarefa>
  </div>
</div>


<div class="container py-4 bg-white rounded">

  <div class="row d-flex justify-content-center">
      <div class="col-md-8 mb-3 mb-sm-0" >
        <ul>
          @for (tarefa of tarefas; track $index) {
            <li>
              <div class="card">
                <div class="card-body">
                  
                    <h5 class="card-title">Titulo: {{ tarefa?.titulo }}</h5>

                    <h6 class="card-subtitle mb-2 text-muted font-weight-normal">
                        Descrição: {{ tarefa?.descricao }}
                    </h6>

                    <p class="card-text">
                       Data da Tarefa: {{ tarefa?.dataTarefa ? formatarData(tarefa.dataTarefa) : 'Carregando...' }} 
                    </p>

                    Status da tarefa: <span class="card-text" [ngStyle]="{
                      'color': tarefa?.status === 0 ? 'orange' :
                               tarefa?.status === 1 ? 'green' :
                               tarefa?.status === 'failed' ? 'red' : 'black'
                      }">
                      {{ tarefa?.status | status }}
                    </span>
                    <p>
                      <button class="btn btn-sm btn-outline-primary">Editar</button>
                      <button class="btn btn-sm btn-danger mx-2">Remover</button>
                    </p>
                      <div>                        
                        <label>
                          <input type="checkbox" name="status" value="Concluido" />
                          Concluído
                        </label>
                      </div>
                    
                </div>

            </div>
            </li>
            
          }
      </ul>
      </div>
  </div>

  <div *ngIf="tarefas.length === 0;">
    <p>Não há tarefas para mostrar nesta página.</p>
  </div>

  
    <div style="text-align:center">
      <button class="btn btn-secondary" (click)="mudarPagina(-1)" [disabled]="pagina === 0">Anterior</button>
      <span> Página {{ pagina + 1 }} </span> 
      <span *ngIf="tarefas.length > 0;">
        <button class="btn btn-secondary" (click)="mudarPagina(1)">Próximo</button>
      </span>
    </div>
 
</div>


